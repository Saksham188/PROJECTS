"use strict";(self.webpackChunkchat_app=self.webpackChunkchat_app||[]).push([[231],{6012:function(e,n,t){t.r(n),t.d(n,{default:function(){return v}});var a,r=t(168),s=t(4165),c=t(5861),i=t(9439),o=t(2791),u=t(6444),l=t(7689),d=t.p+"static/media/loader.b40fc3d91ff1f4db53e2.gif",f=t(8174),p=(t(5462),t(3263)),m=t(9778),h=t(8204),g=t(184);function v(){var e=(0,l.s0)(),n=(0,o.useState)([]),t=(0,i.Z)(n,2),a=t[0],r=t[1],u=(0,o.useState)(!0),v=(0,i.Z)(u,2),b=v[0],k=v[1],Z=(0,o.useState)(void 0),w=(0,i.Z)(Z,2),j=w[0],S=w[1],y={position:"bottom-right",autoClose:8e3,pauseOnHover:!0,draggable:!0,theme:"dark"};(0,o.useEffect)((function(){var n=function(){var n=(0,c.Z)((0,s.Z)().mark((function n(){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:localStorage.getItem("chat-app-user")||e("/login");case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[]);var N=function(){var n=(0,c.Z)((0,s.Z)().mark((function n(){var t,r,c;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==j){n.next=4;break}f.Am.error("Please select an avatar",y),n.next=12;break;case 4:return n.next=6,JSON.parse(localStorage.getItem("chat-app-user"));case 6:return t=n.sent,n.next=9,p.Z.post("".concat(h.TC,"/").concat(t._id),{image:a[j]});case 9:r=n.sent,(c=r.data).isSet?(t.isAvatarImageSet=!0,t.avatarImage=c.image,localStorage.setItem("chat-app-user",JSON.stringify(t)),e("/")):f.Am.error("Error setting avatar.Please try again",y);case 12:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,o.useEffect)((function(){var e=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(){var n,t,a,c;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=[],t=0;case 3:if(!(t<4)){e.next=12;break}return e.next=6,p.Z.get("".concat("https://api.multiavatar.com/4645646","/").concat(Math.round(1e3*Math.random())));case 6:a=e.sent,c=new m.lW(a.data),n.push(c.toString("base64"));case 9:t++,e.next=3;break;case 12:r(n),k(!1),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log("Error while fetching data. "+e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,g.jsxs)(g.Fragment,{children:[b?(0,g.jsx)(x,{children:(0,g.jsx)("img",{src:d,alt:"loader",className:"loader"})}):(0,g.jsxs)(x,{children:[(0,g.jsx)("div",{className:"title-container",children:(0,g.jsx)("h1",{children:"Pick an avatar as your profile picture"})}),(0,g.jsx)("div",{className:"avatars",children:a.map((function(e,n){return(0,g.jsx)("div",{className:"avatar ".concat(j===n?"selected":""),children:(0,g.jsx)("img",{src:"data:image/svg+xml;base64,".concat(e),alt:"avatar",onClick:function(){return S(n)}})},n)}))}),(0,g.jsx)("button",{className:"submit-btn",onClick:N,children:"Set as Profile Pic"})]}),(0,g.jsx)(f.Ix,{})]})}var x=u.ZP.div(a||(a=(0,r.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  gap: 3rem;\n  background-color: #131324;\n  height: 100vh;\n  width: 100vw;\n  .loader {\n    max-inline-size: 100%;\n  }\n  .title-container {\n    h1 {\n      color: white;\n    }\n  }\n  .avatars {\n    display: flex;\n    gap: 2rem;\n\n    .avatar {\n      border: 0.4rem solid transparent;\n      padding: 0.4rem;\n      border-radius: 5rem;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      transition: 0.5s ease-in-out;\n\n      img {\n        height: 6rem;\n        transition: 0.5s ease-in-out;\n      }\n    }\n    .selected {\n      border: 0.4rem solid #4e0eff;\n    }\n  }\n  .submit-btn {\n    background-color: #997af0;\n    color: white;\n    padding: 1rem 2rem;\n    border: none;\n    font-weight: bold;\n    cursor: pointer;\n    border-radius: 0.4rem;\n    font-size: 1rem;\n    text-transform: uppercase;\n    &:hover {\n      background-color: #4e0eff;\n    }\n  }\n"])))}}]);
//# sourceMappingURL=231.af7042b0.chunk.js.map